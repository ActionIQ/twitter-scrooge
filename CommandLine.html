
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Command Line &#8212; Scrooge 22.4.0 documentation</title>
    <link rel="stylesheet" href="_static/scrooge.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Finagle Integration" href="Finagle.html" />
    <link rel="prev" title="Maven Plugin" href="MVNPlugin.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Finagle.html" title="Finagle Integration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="MVNPlugin.html" title="Maven Plugin"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Scrooge</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="command-line">
<h1>Command Line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h1>
<p>Aside from integrating with SBT and maven, Scrooge can also be run directly
from the command line. One way to do so is to run the main files of the
‘scrooge-generator’ or ‘scrooge-linter’ projects with the help of SBT. This
requires having the Scrooge project available locally.</p>
<p>To start, clone the Scrooge repository from GitHub, change into
the Scrooge directory, and checkout the master branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/twitter/scrooge.git
$ <span class="nb">cd</span> scrooge
$ git checkout master
</pre></div>
</div>
<p>Working off of the master branch will ensure that you’re using the latest
released version of Scrooge.</p>
<div class="section" id="scrooge-generator">
<h2>scrooge-generator<a class="headerlink" href="#scrooge-generator" title="Permalink to this headline">¶</a></h2>
<p>The ‘scrooge-generator’ project is responsible for converting Thrift IDL
files into generated code. Running it from the command line requires
running the ‘com.twitter.scrooge.Main’ object.</p>
<p>To get command line help:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./sbt <span class="s1">&#39;scrooge-generator/runMain com.twitter.scrooge.Main --help&#39;</span>
</pre></div>
</div>
<p>To generate source with content written to the current directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./sbt <span class="s1">&#39;scrooge-generator/runMain com.twitter.scrooge.Main &lt;thrift-file1&gt; [&lt;thrift-file2&gt; ...]&#39;</span>
</pre></div>
</div>
<p>To generate source with content written to a specified directory, using
extra include paths, rebuilding only those files that have changed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./sbt <span class="s1">&#39;scrooge-generator/runMain com.twitter.scrooge.Main -d &lt;target-dir&gt; -i &lt;include-path&gt; -s &lt;thrift-file1&gt; [&lt;thrift-file2&gt; ...]&#39;</span>
</pre></div>
</div>
<p>As an example, to generate Scala code for the ‘user.thrift’ file from the
‘scrooge-maven-demo’, you can run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./sbt <span class="s1">&#39;scrooge-generator/runMain com.twitter.scrooge.Main -d generated -i demos/scrooge-maven-demo/src/main/thrift -s user.thrift&#39;</span>
</pre></div>
</div>
<p>This will output the ‘User.scala’ and ‘UserService.scala’ files in namespaced
directories underneath the ‘generated’ directory.</p>
<p>A complete command line help menu for scrooge-generator:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage: scrooge [options] &lt;files...&gt;

--help                                    show this help screen
-V, --version                             print version and quit
-v, --verbose                             log verbose messages about progress
-d, --dest &lt;path&gt;                         write generated code to a folder (default: .)
--import-path &lt;path&gt;                      [DEPRECATED] path(s) to search for included thrift files (may be used multiple times)
-i, --include-path &lt;path&gt;                 path(s) to search for included thrift files (may be used multiple times)
-n, --namespace-map &lt;oldname&gt;=&lt;newname&gt;   map old namespace to new (may be used multiple times)
--default-java-namespace &lt;name&gt;           Use &lt;name&gt; as default namespace if the thrift file doesn&#39;t define its own namespace. If this option is not specified either, then use &quot;thrift&quot; as default namespace
--disable-strict                          issue warnings on non-severe parse errors instead of aborting
--gen-file-map &lt;path&gt;                     generate map.txt in the destination folder to specify the mapping from input thrift files to output Scala/Java files
--dry-run                                 parses and validates source thrift files, reporting any errors, but does not emit any generated source code.  can be used with --gen-file-mapping to get the file mapping
-s, --skip-unchanged                      Don&#39;t re-generate if the target is newer than the input
-l, --language &lt;value&gt;                    name of language to generate code in (currently supported languages: java, lua, scala, cocoa, android, swift)
--java-ser-enum-type                      Encode a thrift enum as o.a.t.p.TType.ENUM instead of TType.I32
--language-flag &lt;flag&gt;                    Pass arguments to supported language generators. To generate Scala 2.13 compatible `scala.Seq` alias as `scala.collection.immutable.Seq`, please use &quot;immutable-sequences&quot;.
--scala-warn-on-java-ns-fallback          Print a warning when the scala generator falls back to the java namespace
--finagle                                 generate finagle classes
--gen-adapt                               Generate code for adaptive decoding for scala.
--java-passthrough                        Enable java passthrough
&lt;files...&gt;                                thrift files to compile
</pre></div>
</div>
</div>
<div class="section" id="scrooge-linter">
<h2>scrooge-linter<a class="headerlink" href="#scrooge-linter" title="Permalink to this headline">¶</a></h2>
<p>The ‘scrooge-linter’ project is responsible for verifying that a Thrift
IDL file complies with Scrooge’s understanding of the Thrift grammar. It
can be useful when making modifications to Thrift files to check it via
the ‘scrooge-linter’ without running the full on ‘scrooge-generator’.</p>
<p>To get command line help:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./sbt <span class="s1">&#39;scrooge-linter/runMain com.twitter.scrooge.linter.Main --help&#39;</span>
</pre></div>
</div>
<p>To lint a specific file (or files):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./sbt <span class="s1">&#39;scrooge-linter/runMain com.twitter.scrooge.linter.Main &lt;files...&gt;&#39;</span>
</pre></div>
</div>
<p>As an example, to lint the ‘user.thrift’ file from the ‘scrooge-maven-demo’, you
can run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./sbt <span class="s1">&#39;scrooge-linter/runMain com.twitter.scrooge.linter.Main -n demos/scrooge-maven-demo/src/main/thrift user.thrift&#39;</span>
</pre></div>
</div>
<p>A complete command line help menu for scrooge-linter:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage: scrooge-linter [options] &lt;files...&gt;

--help                                 show this help screen
-V, --version                          print version and quit
-v, --verbose                          log verbose messages about progress
-i, --ignore-errors                    return 0 if linter errors are found. If not set, linter returns 1.
-n, --include-path &lt;path&gt;              path(s) to search for included thrift files (may be used multiple times)
-e, --enable-rule &lt;rule-name&gt;          rules to be enabled.
  Available: Namespaces, CompilerOptimizedMethodParamLimit, RelativeIncludes, CamelCase, RequiredFieldDefault, Keywords, TransitivePersistence, FieldIndexGreaterThanZeroRule, MalformedDocstring, MapKeyType, DocumentedPersisted
    Default: Namespaces, CompilerOptimizedMethodParamLimit, RelativeIncludes, CamelCase, RequiredFieldDefault, Keywords, TransitivePersistence, FieldIndexGreaterThanZeroRule, MalformedDocstring, MapKeyType
-d, --disable-rule &lt;rule-name&gt;         rules to be disabled.
-p, --ignore-parse-errors              continue if parsing errors are found.
-w, --warnings                         show linter warnings (default = False)
--disable-strict                       issue warnings on non-severe parse errors instead of aborting
--fatal-warnings                       convert warnings to errors
&lt;files...&gt;                             thrift files to compile
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/scrooge.png" alt="Logo"/>
            </a></p><a href="index.html"><h3>Scrooge</h3></a>
<p>
  Scrooge is a general purpose thrift parser/generator
</p>

<h3>Useful Links</h3>
<ul>
  <li><a href="https://github.com/twitter/scrooge">Scrooge @ GitHub</a></li>
  <li><a href="https://github.com/twitter/scrooge/issues">Issue Tracker</a></li>
</ul>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Command Line</a><ul>
<li><a class="reference internal" href="#scrooge-generator">scrooge-generator</a></li>
<li><a class="reference internal" href="#scrooge-linter">scrooge-linter</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="MVNPlugin.html" title="previous chapter">Maven Plugin</a></li>
      <li>Next: <a href="Finagle.html" title="next chapter">Finagle Integration</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Search the contents of this site.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2013 Twitter, Inc.
    Created using <a href="https://www.sphinx-doc.org/en/master/">Sphinx</a>.
  </div>
  
  </body>
</html>